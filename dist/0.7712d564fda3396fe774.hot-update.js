webpackHotUpdate(0,{

/***/ 15:
/***/ function(module, exports, __webpack_require__) {

	eval("\nvar config = __webpack_require__(16);\nvar shared = __webpack_require__(17);\nvar local = __webpack_require__(20);\nvar utils = __webpack_require__(18);\nvar oAuth = __webpack_require__(23);\n\nfunction Auth() {\n\n    Object.defineProperties(this, {\n        httpInterceptor: {\n            get: function () {\n                return config.httpInterceptor;\n            },\n            set: function (value) {\n                if (typeof value === 'function') {\n                    config.httpInterceptor = value;\n                } else {\n                    config.httpInterceptor = function () {\n                        return value;\n                    };\n                }\n            }\n        },\n        baseUrl: {\n            get: function () {\n                return config.baseUrl;\n            },\n            set: function (value) {\n                config.baseUrl = value;\n            }\n        },\n        loginUrl: {\n            get: function () {\n                return config.loginUrl;\n            },\n            set: function (value) {\n                config.loginUrl = value;\n            }\n        },\n        signupUrl: {\n            get: function () {\n                return config.signupUrl;\n            },\n            set: function (value) {\n                config.signupUrl = value;\n            }\n        },\n        tokenRoot: {\n            get: function () {\n                return config.tokenRoot;\n            },\n            set: function (value) {\n                config.tokenRoot = value;\n            }\n        },\n        tokenName: {\n            get: function () {\n                return config.tokenName;\n            },\n            set: function (value) {\n                config.tokenName = value;\n            }\n        },\n        tokenPrefix: {\n            get: function () {\n                return config.tokenPrefix;\n            },\n            set: function (value) {\n                config.tokenPrefix = value;\n            }\n        },\n        unlinkUrl: {\n            get: function () {\n                return config.unlinkUrl;\n            },\n            set: function (value) {\n                config.unlinkUrl = value;\n            }\n        },\n        authHeader: {\n            get: function () {\n                return config.authHeader;\n            },\n            set: function (value) {\n                config.authHeader = value;\n            }\n        },\n        authToken: {\n            get: function () {\n                return config.authToken;\n            },\n            set: function (value) {\n                config.authToken = value;\n            }\n        },\n        withCredentials: {\n            get: function () {\n                return config.withCredentials;\n            },\n            set: function (value) {\n                config.withCredentials = value;\n            }\n        },\n        storageType: {\n            get: function () {\n                return config.storageType;\n            },\n            set: function (value) {\n                config.storageType = value;\n            }\n        }\n    });\n\n    utils.forEach(Object.keys(config.providers), function (provider) {\n        this[provider] = function (params) {\n            return utils.extend(config.providers[provider], params);\n        };\n    }, this);\n\n    var oauth = function (params) {\n        config.providers[params.name] = config.providers[params.name] || {};\n        utils.extend(config.providers[params.name], params);\n    };\n\n    this.oauth1 = function (params) {\n        oauth(params);\n        config.providers[params.name].oauthType = '1.0';\n    };\n\n    this.oauth2 = function (params) {\n        oauth(params);\n        config.providers[params.name].oauthType = '2.0';\n    };\n\n    var _auth = {};\n\n    _auth.login = function (user, opts) {\n        return local.login(user, opts);\n    };\n\n    _auth.signup = function (user, options) {\n        return local.signup(user, options);\n    };\n\n    _auth.logout = function () {\n        return shared.logout();\n    };\n\n    _auth.authenticate = function (name, userData) {\n        return oAuth.authenticate(name, userData);\n    };\n\n    _auth.link = function (name, userData) {\n        return oAuth.authenticate(name, userData);\n    };\n\n    _auth.unlink = function (provider, opts) {\n        return oAuth.unlink(provider, opts);\n    };\n\n    _auth.isAuthenticated = function () {\n        return shared.isAuthenticated();\n    };\n\n    _auth.getToken = function () {\n        return shared.getToken();\n    };\n\n    _auth.setToken = function (token) {\n        shared.setToken({ access_token: token });\n    };\n\n    _auth.removeToken = function () {\n        return shared.removeToken();\n    };\n\n    _auth.getPayload = function () {\n        return shared.getPayload();\n    };\n\n    _auth.setStorageType = function (type) {\n        return shared.setStorageType(type);\n    };\n\n    return _auth;\n}\n\nmodule.exports = Auth;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTUuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2F1dGguanM/M2JiZiJdLCJzb3VyY2VzQ29udGVudCI6WyJcbnZhciBjb25maWcgPSByZXF1aXJlKCcuL2NvbmZpZy5qcycpO1xudmFyIHNoYXJlZCA9IHJlcXVpcmUoJy4vc2hhcmVkLnV0aWxzLmpzJyk7XG52YXIgbG9jYWwgPSByZXF1aXJlKCcuL2F1dGgubG9jYWwuanMnKTtcbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vdXRpbHMuanMnKTtcbnZhciBvQXV0aCA9IHJlcXVpcmUoJy4vb2F1dGguanMnKTtcblxuZnVuY3Rpb24gQXV0aCgpe1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGhpcywge1xuICAgICAgICBodHRwSW50ZXJjZXB0b3I6IHtcbiAgICAgICAgICBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gY29uZmlnLmh0dHBJbnRlcmNlcHRvcjsgfSxcbiAgICAgICAgICBzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgIGNvbmZpZy5odHRwSW50ZXJjZXB0b3IgPSB2YWx1ZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGNvbmZpZy5odHRwSW50ZXJjZXB0b3IgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBiYXNlVXJsOiB7XG4gICAgICAgICAgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIGNvbmZpZy5iYXNlVXJsOyB9LFxuICAgICAgICAgIHNldDogZnVuY3Rpb24odmFsdWUpIHsgY29uZmlnLmJhc2VVcmwgPSB2YWx1ZTsgfVxuICAgICAgICB9LFxuICAgICAgICBsb2dpblVybDoge1xuICAgICAgICAgIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBjb25maWcubG9naW5Vcmw7IH0sXG4gICAgICAgICAgc2V0OiBmdW5jdGlvbih2YWx1ZSkgeyBjb25maWcubG9naW5VcmwgPSB2YWx1ZTsgfVxuICAgICAgICB9LFxuICAgICAgICBzaWdudXBVcmw6IHtcbiAgICAgICAgICBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gY29uZmlnLnNpZ251cFVybDsgfSxcbiAgICAgICAgICBzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7IGNvbmZpZy5zaWdudXBVcmwgPSB2YWx1ZTsgfVxuICAgICAgICB9LFxuICAgICAgICB0b2tlblJvb3Q6IHtcbiAgICAgICAgICBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gY29uZmlnLnRva2VuUm9vdDsgfSxcbiAgICAgICAgICBzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7IGNvbmZpZy50b2tlblJvb3QgPSB2YWx1ZTsgfVxuICAgICAgICB9LFxuICAgICAgICB0b2tlbk5hbWU6IHtcbiAgICAgICAgICBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gY29uZmlnLnRva2VuTmFtZTsgfSxcbiAgICAgICAgICBzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7IGNvbmZpZy50b2tlbk5hbWUgPSB2YWx1ZTsgfVxuICAgICAgICB9LFxuICAgICAgICB0b2tlblByZWZpeDoge1xuICAgICAgICAgIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBjb25maWcudG9rZW5QcmVmaXg7IH0sXG4gICAgICAgICAgc2V0OiBmdW5jdGlvbih2YWx1ZSkgeyBjb25maWcudG9rZW5QcmVmaXggPSB2YWx1ZTsgfVxuICAgICAgICB9LFxuICAgICAgICB1bmxpbmtVcmw6IHtcbiAgICAgICAgICBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gY29uZmlnLnVubGlua1VybDsgfSxcbiAgICAgICAgICBzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7IGNvbmZpZy51bmxpbmtVcmwgPSB2YWx1ZTsgfVxuICAgICAgICB9LFxuICAgICAgICBhdXRoSGVhZGVyOiB7XG4gICAgICAgICAgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIGNvbmZpZy5hdXRoSGVhZGVyOyB9LFxuICAgICAgICAgIHNldDogZnVuY3Rpb24odmFsdWUpIHsgY29uZmlnLmF1dGhIZWFkZXIgPSB2YWx1ZTsgfVxuICAgICAgICB9LFxuICAgICAgICBhdXRoVG9rZW46IHtcbiAgICAgICAgICBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gY29uZmlnLmF1dGhUb2tlbjsgfSxcbiAgICAgICAgICBzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7IGNvbmZpZy5hdXRoVG9rZW4gPSB2YWx1ZTsgfVxuICAgICAgICB9LFxuICAgICAgICB3aXRoQ3JlZGVudGlhbHM6IHtcbiAgICAgICAgICBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gY29uZmlnLndpdGhDcmVkZW50aWFsczsgfSxcbiAgICAgICAgICBzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7IGNvbmZpZy53aXRoQ3JlZGVudGlhbHMgPSB2YWx1ZTsgfVxuICAgICAgICB9LFxuICAgICAgICBzdG9yYWdlVHlwZToge1xuICAgICAgICAgIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBjb25maWcuc3RvcmFnZVR5cGU7IH0sXG4gICAgICAgICAgc2V0OiBmdW5jdGlvbih2YWx1ZSkgeyBjb25maWcuc3RvcmFnZVR5cGUgPSB2YWx1ZTsgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICB1dGlscy5mb3JFYWNoKE9iamVjdC5rZXlzKGNvbmZpZy5wcm92aWRlcnMpLCBmdW5jdGlvbihwcm92aWRlcikge1xuICAgICAgICB0aGlzW3Byb3ZpZGVyXSA9IGZ1bmN0aW9uKHBhcmFtcykge1xuICAgICAgICAgIHJldHVybiB1dGlscy5leHRlbmQoY29uZmlnLnByb3ZpZGVyc1twcm92aWRlcl0sIHBhcmFtcyk7XG4gICAgICAgIH07XG4gICAgfSwgdGhpcyk7XG5cbiAgICB2YXIgb2F1dGggPSBmdW5jdGlvbihwYXJhbXMpIHtcbiAgICAgICAgY29uZmlnLnByb3ZpZGVyc1twYXJhbXMubmFtZV0gPSBjb25maWcucHJvdmlkZXJzW3BhcmFtcy5uYW1lXSB8fCB7fTtcbiAgICAgICAgdXRpbHMuZXh0ZW5kKGNvbmZpZy5wcm92aWRlcnNbcGFyYW1zLm5hbWVdLCBwYXJhbXMpO1xuICAgIH07XG5cbiAgICB0aGlzLm9hdXRoMSA9IGZ1bmN0aW9uKHBhcmFtcykge1xuICAgICAgICBvYXV0aChwYXJhbXMpO1xuICAgICAgICBjb25maWcucHJvdmlkZXJzW3BhcmFtcy5uYW1lXS5vYXV0aFR5cGUgPSAnMS4wJztcbiAgICB9O1xuXG4gICAgdGhpcy5vYXV0aDIgPSBmdW5jdGlvbihwYXJhbXMpIHtcbiAgICAgICAgb2F1dGgocGFyYW1zKTtcbiAgICAgICAgY29uZmlnLnByb3ZpZGVyc1twYXJhbXMubmFtZV0ub2F1dGhUeXBlID0gJzIuMCc7XG4gICAgfTtcblxuICAgIHZhciBfYXV0aCA9IHt9O1xuXG4gICAgX2F1dGgubG9naW4gPSBmdW5jdGlvbih1c2VyLCBvcHRzKSB7XG4gICAgICAgIHJldHVybiBsb2NhbC5sb2dpbih1c2VyLCBvcHRzKTtcbiAgICB9O1xuXG4gICAgX2F1dGguc2lnbnVwID0gZnVuY3Rpb24odXNlciwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gbG9jYWwuc2lnbnVwKHVzZXIsIG9wdGlvbnMpO1xuICAgIH07XG5cbiAgICBfYXV0aC5sb2dvdXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHNoYXJlZC5sb2dvdXQoKTtcbiAgICB9O1xuXG4gICAgX2F1dGguYXV0aGVudGljYXRlID0gZnVuY3Rpb24obmFtZSwgdXNlckRhdGEpIHtcbiAgICAgICAgcmV0dXJuIG9BdXRoLmF1dGhlbnRpY2F0ZShuYW1lLCB1c2VyRGF0YSk7XG4gICAgfTtcblxuICAgIF9hdXRoLmxpbmsgPSBmdW5jdGlvbihuYW1lLCB1c2VyRGF0YSkge1xuICAgICAgICByZXR1cm4gb0F1dGguYXV0aGVudGljYXRlKG5hbWUsIHVzZXJEYXRhKTtcbiAgICB9O1xuXG4gICAgX2F1dGgudW5saW5rID0gZnVuY3Rpb24ocHJvdmlkZXIsIG9wdHMpIHtcbiAgICAgICAgcmV0dXJuIG9BdXRoLnVubGluayhwcm92aWRlciwgb3B0cyk7XG4gICAgfTtcblxuICAgIF9hdXRoLmlzQXV0aGVudGljYXRlZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gc2hhcmVkLmlzQXV0aGVudGljYXRlZCgpO1xuICAgIH07XG5cbiAgICBfYXV0aC5nZXRUb2tlbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gc2hhcmVkLmdldFRva2VuKCk7XG4gICAgfTtcblxuICAgIF9hdXRoLnNldFRva2VuID0gZnVuY3Rpb24odG9rZW4pIHtcbiAgICAgICAgc2hhcmVkLnNldFRva2VuKHsgYWNjZXNzX3Rva2VuOiB0b2tlbiB9KTtcbiAgICB9O1xuXG4gICAgX2F1dGgucmVtb3ZlVG9rZW4gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHNoYXJlZC5yZW1vdmVUb2tlbigpO1xuICAgIH07XG5cbiAgICBfYXV0aC5nZXRQYXlsb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBzaGFyZWQuZ2V0UGF5bG9hZCgpO1xuICAgIH07XG5cbiAgICBfYXV0aC5zZXRTdG9yYWdlVHlwZSA9IGZ1bmN0aW9uKHR5cGUpIHtcbiAgICAgICAgcmV0dXJuIHNoYXJlZC5zZXRTdG9yYWdlVHlwZSh0eXBlKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIF9hdXRoO1xuXG59XG5cblxubW9kdWxlLmV4cG9ydHMgPSBBdXRoO1xuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogc3JjL2F1dGguanNcbiAqKi8iXSwibWFwcGluZ3MiOiI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVZBO0FBWUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFGQTtBQUlBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBRkE7QUFJQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUZBO0FBSUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFGQTtBQUlBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBRkE7QUFJQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUZBO0FBSUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFGQTtBQUlBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBRkE7QUFJQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUZBO0FBSUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFGQTtBQUlBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBRkE7QUFyREE7QUFDQTtBQTBEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUEiLCJzb3VyY2VSb290IjoiIn0=");

/***/ },

/***/ 23:
/***/ function(module, exports, __webpack_require__) {

	eval("//$q, $http, config, utils, shared, Oauth1, Oauth2\n\nvar config = __webpack_require__(16);\nvar http = __webpack_require__(21);\nvar Oauth1 = __webpack_require__(24);\nvar Oauth2 = __webpack_require__(26);\n\nfunction oAuth() {\n  var Oauth = {};\n\n  Oauth.authenticate = function (name, userData) {\n    var provider = config.providers[name].oauthType === '1.0' ? new Oauth1() : new Oauth2();\n    var promise = new Promise(function (resolve, reject) {\n\n      provider.open(config.providers[name], userData || {}).then(function (response) {\n        // This is for a scenario when someone wishes to opt out from\n        // Satellizer's magic by doing authorization code exchange and\n        // saving a token manually.\n        if (config.providers[name].url) {\n          shared.setToken(response, false);\n        }\n        resolve(response);\n      }).catch(function (error) {\n        reject(error);\n      });\n    });\n\n    return promise;\n  };\n\n  Oauth.unlink = function (provider, opts) {\n    opts = opts || {};\n    opts.url = opts.url ? opts.url : utils.joinUrl(config.baseUrl, config.unlinkUrl);\n    opts.data = { provider: provider } || opts.data;\n    opts.method = opts.method || 'POST';\n    opts.withCredentials = opts.withCredentials || config.withCredentials;\n\n    return http(opts);\n  };\n\n  return Oauth;\n}\n\nmodule.exports = oAuth();//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL29hdXRoLmpzPzNhMTIiXSwic291cmNlc0NvbnRlbnQiOlsiLy8kcSwgJGh0dHAsIGNvbmZpZywgdXRpbHMsIHNoYXJlZCwgT2F1dGgxLCBPYXV0aDJcblxudmFyIGNvbmZpZyA9IHJlcXVpcmUoJy4vY29uZmlnLmpzJyk7XG52YXIgaHR0cCA9IHJlcXVpcmUoJy4vaHR0cC5qcycpO1xudmFyIE9hdXRoMSA9IHJlcXVpcmUoJy4vb2F1dGgxLmpzJyk7XG52YXIgT2F1dGgyID0gcmVxdWlyZSgnLi9vYXV0aDIuanMnKTtcblxuXG5mdW5jdGlvbiBvQXV0aCgpe1xuICB2YXIgT2F1dGggPSB7fTtcblxuICBPYXV0aC5hdXRoZW50aWNhdGUgPSBmdW5jdGlvbihuYW1lLCB1c2VyRGF0YSkge1xuICAgIHZhciBwcm92aWRlciA9IGNvbmZpZy5wcm92aWRlcnNbbmFtZV0ub2F1dGhUeXBlID09PSAnMS4wJyA/IG5ldyBPYXV0aDEoKSA6IG5ldyBPYXV0aDIoKTtcbiAgICB2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCl7XG5cbiAgICAgIHByb3ZpZGVyLm9wZW4oY29uZmlnLnByb3ZpZGVyc1tuYW1lXSwgdXNlckRhdGEgfHwge30pXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgLy8gVGhpcyBpcyBmb3IgYSBzY2VuYXJpbyB3aGVuIHNvbWVvbmUgd2lzaGVzIHRvIG9wdCBvdXQgZnJvbVxuICAgICAgICAgIC8vIFNhdGVsbGl6ZXIncyBtYWdpYyBieSBkb2luZyBhdXRob3JpemF0aW9uIGNvZGUgZXhjaGFuZ2UgYW5kXG4gICAgICAgICAgLy8gc2F2aW5nIGEgdG9rZW4gbWFudWFsbHkuXG4gICAgICAgICAgaWYgKGNvbmZpZy5wcm92aWRlcnNbbmFtZV0udXJsKSB7XG4gICAgICAgICAgICBzaGFyZWQuc2V0VG9rZW4ocmVzcG9uc2UsIGZhbHNlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVzb2x2ZShyZXNwb25zZSk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaChmdW5jdGlvbihlcnJvcikge1xuICAgICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICAgIH0pO1xuXG4gICAgfSk7XG4gICAgXG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH07XG5cbiAgT2F1dGgudW5saW5rID0gZnVuY3Rpb24ocHJvdmlkZXIsIG9wdHMpIHtcbiAgICBvcHRzID0gb3B0cyB8fCB7fTtcbiAgICBvcHRzLnVybCA9IG9wdHMudXJsID8gb3B0cy51cmwgOiB1dGlscy5qb2luVXJsKGNvbmZpZy5iYXNlVXJsLCBjb25maWcudW5saW5rVXJsKTtcbiAgICBvcHRzLmRhdGEgPSB7IHByb3ZpZGVyOiBwcm92aWRlciB9IHx8IG9wdHMuZGF0YTtcbiAgICBvcHRzLm1ldGhvZCA9IG9wdHMubWV0aG9kIHx8ICdQT1NUJztcbiAgICBvcHRzLndpdGhDcmVkZW50aWFscyA9IG9wdHMud2l0aENyZWRlbnRpYWxzIHx8IGNvbmZpZy53aXRoQ3JlZGVudGlhbHM7XG5cbiAgICByZXR1cm4gaHR0cChvcHRzKTtcbiAgfTtcblxuICByZXR1cm4gT2F1dGg7XG59XG5cblxubW9kdWxlLmV4cG9ydHMgPSBvQXV0aCgpO1xuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogc3JjL29hdXRoLmpzXG4gKiovIl0sIm1hcHBpbmdzIjoiOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQSIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ },

/***/ 24:
/***/ function(module, exports, __webpack_require__) {

	eval("//$q, $http, popup, config, utils\n\nvar config = __webpack_require__(16);\nvar http = __webpack_require__(21);\nvar popup = __webpack_require__(25);\nvar utils = __webpack_require__(18);\n\nvar extend = utils.extend;\nvar forEach = utils.forEach;\nvar merge = utils.merge;\n\nfunction oAuth1() {\n\n  return function () {\n    var Oauth1 = {};\n\n    var defaults = {\n      url: null,\n      name: null,\n      popupOptions: null,\n      redirectUri: null,\n      authorizationEndpoint: null\n    };\n\n    Oauth1.open = function (options, userData) {\n      extend(defaults, options);\n      var popupWindow;\n      var serverUrl = config.baseUrl ? utils.joinUrl(config.baseUrl, defaults.url) : defaults.url;\n\n      if (!window.cordova) {\n        popupWindow = popup.open('', defaults.name, defaults.popupOptions, defaults.redirectUri);\n      }\n\n      return http.post(serverUrl, defaults).then(function (response) {\n        var url = [defaults.authorizationEndpoint, Oauth1.buildQueryString(response.data)].join('?');\n\n        if (window.cordova) {\n          popupWindow = popup.open(url, defaults.name, defaults.popupOptions, defaults.redirectUri);\n        } else {\n          popupWindow.popupWindow.location = url;\n        }\n\n        var popupListener;\n\n        if (window.cordova) {\n          popupListener = popupWindow.eventListener(defaults.redirectUri);\n        } else {\n          popupListener = popupWindow.pollPopup(defaults.redirectUri);\n        }\n\n        return popupListener.then(function (response) {\n          return Oauth1.exchangeForToken(response, userData);\n        });\n      });\n    };\n\n    Oauth1.exchangeForToken = function (oauthData, userData) {\n      var data = extend({}, userData, oauthData);\n      var exchangeForTokenUrl = config.baseUrl ? utils.joinUrl(config.baseUrl, defaults.url) : defaults.url;\n      return http.post(exchangeForTokenUrl, data, { withCredentials: config.withCredentials });\n    };\n\n    Oauth1.buildQueryString = function (obj) {\n      var str = [];\n\n      forEach(obj, function (value, key) {\n        str.push(encodeURIComponent(key) + '=' + encodeURIComponent(value));\n      });\n\n      return str.join('&');\n    };\n\n    return Oauth1;\n  };\n}\n\nmodule.exports = oAuth1();//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjQuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL29hdXRoMS5qcz9kOWFkIl0sInNvdXJjZXNDb250ZW50IjpbIi8vJHEsICRodHRwLCBwb3B1cCwgY29uZmlnLCB1dGlsc1xuXG52YXIgY29uZmlnID0gcmVxdWlyZSgnLi9jb25maWcuanMnKTtcbnZhciBodHRwID0gcmVxdWlyZSgnLi9odHRwLmpzJyk7XG52YXIgcG9wdXAgPSByZXF1aXJlKFwiLi9wb3B1cC5qc1wiKTtcbnZhciB1dGlscyA9IHJlcXVpcmUoXCIuL3V0aWxzLmpzXCIpO1xuXG52YXIgZXh0ZW5kID0gdXRpbHMuZXh0ZW5kO1xudmFyIGZvckVhY2ggPSB1dGlscy5mb3JFYWNoO1xudmFyIG1lcmdlID0gdXRpbHMubWVyZ2U7XG5cbmZ1bmN0aW9uIG9BdXRoMSgpe1xuXG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB2YXIgT2F1dGgxID0ge307XG5cbiAgICB2YXIgZGVmYXVsdHMgPSB7XG4gICAgICB1cmw6IG51bGwsXG4gICAgICBuYW1lOiBudWxsLFxuICAgICAgcG9wdXBPcHRpb25zOiBudWxsLFxuICAgICAgcmVkaXJlY3RVcmk6IG51bGwsXG4gICAgICBhdXRob3JpemF0aW9uRW5kcG9pbnQ6IG51bGxcbiAgICB9O1xuXG4gICAgT2F1dGgxLm9wZW4gPSBmdW5jdGlvbihvcHRpb25zLCB1c2VyRGF0YSkge1xuICAgICAgZXh0ZW5kKGRlZmF1bHRzLCBvcHRpb25zKTtcbiAgICAgIHZhciBwb3B1cFdpbmRvdztcbiAgICAgIHZhciBzZXJ2ZXJVcmwgPSBjb25maWcuYmFzZVVybCA/IHV0aWxzLmpvaW5VcmwoY29uZmlnLmJhc2VVcmwsIGRlZmF1bHRzLnVybCkgOiBkZWZhdWx0cy51cmw7XG5cbiAgICAgIGlmICghd2luZG93LmNvcmRvdmEpIHtcbiAgICAgICAgICBwb3B1cFdpbmRvdyA9IHBvcHVwLm9wZW4oJycsIGRlZmF1bHRzLm5hbWUsIGRlZmF1bHRzLnBvcHVwT3B0aW9ucywgZGVmYXVsdHMucmVkaXJlY3RVcmkpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gaHR0cC5wb3N0KHNlcnZlclVybCwgZGVmYXVsdHMpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgdmFyIHVybCA9IFtkZWZhdWx0cy5hdXRob3JpemF0aW9uRW5kcG9pbnQsIE9hdXRoMS5idWlsZFF1ZXJ5U3RyaW5nKHJlc3BvbnNlLmRhdGEpXS5qb2luKCc/Jyk7XG5cbiAgICAgICAgICBpZiAod2luZG93LmNvcmRvdmEpIHtcbiAgICAgICAgICAgIHBvcHVwV2luZG93ID0gcG9wdXAub3Blbih1cmwsIGRlZmF1bHRzLm5hbWUsIGRlZmF1bHRzLnBvcHVwT3B0aW9ucywgZGVmYXVsdHMucmVkaXJlY3RVcmkpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwb3B1cFdpbmRvdy5wb3B1cFdpbmRvdy5sb2NhdGlvbiA9IHVybDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgcG9wdXBMaXN0ZW5lcjtcblxuICAgICAgICAgIGlmICh3aW5kb3cuY29yZG92YSkge1xuICAgICAgICAgICAgcG9wdXBMaXN0ZW5lciA9IHBvcHVwV2luZG93LmV2ZW50TGlzdGVuZXIoZGVmYXVsdHMucmVkaXJlY3RVcmkpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwb3B1cExpc3RlbmVyID0gcG9wdXBXaW5kb3cucG9sbFBvcHVwKGRlZmF1bHRzLnJlZGlyZWN0VXJpKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gcG9wdXBMaXN0ZW5lclxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIE9hdXRoMS5leGNoYW5nZUZvclRva2VuKHJlc3BvbnNlLCB1c2VyRGF0YSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICB9O1xuXG4gICAgT2F1dGgxLmV4Y2hhbmdlRm9yVG9rZW4gPSBmdW5jdGlvbihvYXV0aERhdGEsIHVzZXJEYXRhKSB7XG4gICAgICB2YXIgZGF0YSA9IGV4dGVuZCh7fSwgdXNlckRhdGEsIG9hdXRoRGF0YSk7XG4gICAgICB2YXIgZXhjaGFuZ2VGb3JUb2tlblVybCA9IGNvbmZpZy5iYXNlVXJsID8gdXRpbHMuam9pblVybChjb25maWcuYmFzZVVybCwgZGVmYXVsdHMudXJsKSA6IGRlZmF1bHRzLnVybDtcbiAgICAgIHJldHVybiBodHRwLnBvc3QoZXhjaGFuZ2VGb3JUb2tlblVybCwgZGF0YSwgeyB3aXRoQ3JlZGVudGlhbHM6IGNvbmZpZy53aXRoQ3JlZGVudGlhbHMgfSk7XG4gICAgfTtcblxuICAgIE9hdXRoMS5idWlsZFF1ZXJ5U3RyaW5nID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgICB2YXIgc3RyID0gW107XG5cbiAgICAgIGZvckVhY2gob2JqLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICAgIHN0ci5wdXNoKGVuY29kZVVSSUNvbXBvbmVudChrZXkpICsgJz0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHZhbHVlKSk7XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIHN0ci5qb2luKCcmJyk7XG4gICAgfTtcblxuICAgIHJldHVybiBPYXV0aDE7XG4gIH07XG5cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBvQXV0aDEoKTtcblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiBzcmMvb2F1dGgxLmpzXG4gKiovIl0sIm1hcHBpbmdzIjoiOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFMQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ },

/***/ 25:
/***/ function(module, exports, __webpack_require__) {

	eval("//$q, $interval, $window, config, utils\n\nvar utils = __webpack_require__(18);\nvar extend = utils.extend;\nvar forEach = utils.forEach;\n\nfunction Popup() {\n\n  var Popup = {};\n\n  Popup.url = '';\n  Popup.popupWindow = null;\n\n  Popup.open = function (url, name, options) {\n    Popup.url = url;\n\n    var stringifiedOptions = Popup.stringifyOptions(Popup.prepareOptions(options));\n    var UA = $window.navigator.userAgent;\n    var windowName = window.cordova || UA.indexOf('CriOS') > -1 ? '_blank' : name;\n\n    Popup.popupWindow = $window.open(url, windowName, stringifiedOptions);\n\n    $window.popup = Popup.popupWindow;\n\n    if (Popup.popupWindow && Popup.popupWindow.focus) {\n      Popup.popupWindow.focus();\n    }\n\n    return Popup;\n  };\n\n  Popup.eventListener = function (redirectUri) {\n    var p1 = new Promise(function (resolve, reject) {\n      Popup.popupWindow.addEventListener('loadstart', function (event) {\n        if (event.url.indexOf(redirectUri) !== 0) {\n          return;\n        }\n\n        var parser = document.createElement('a');\n        parser.href = event.url;\n\n        if (parser.search || parser.hash) {\n          var queryParams = parser.search.substring(1).replace(/\\/$/, '');\n          var hashParams = parser.hash.substring(1).replace(/\\/$/, '');\n          var hash = utils.parseQueryString(hashParams);\n          var qs = utils.parseQueryString(queryParams);\n\n          extend(qs, hash);\n\n          if (!qs.error) {\n            resolve(qs);\n          }\n\n          Popup.popupWindow.close();\n        }\n      });\n\n      Popup.popupWindow.addEventListener('loaderror', function () {\n        reject('Authorization Failed');\n      });\n    });\n\n    return p1;\n  };\n\n  Popup.pollPopup = function (redirectUri) {\n\n    var promise = new Promise(function (resolve, reject) {\n\n      var redirectUriParser = document.createElement('a');\n      redirectUriParser.href = redirectUri;\n\n      var redirectUriPath = utils.getFullUrlPath(redirectUriParser);\n\n      var polling = setInterval(function () {\n        if (!Popup.popupWindow || Popup.popupWindow.closed || Popup.popupWindow.closed === undefined) {\n          reject('The popup window was closed.');\n          clearInterval(polling);\n        }\n\n        try {\n          var popupWindowPath = utils.getFullUrlPath(Popup.popupWindow.location);\n\n          // Redirect has occurred.\n          if (popupWindowPath === redirectUriPath) {\n            // Contains query/hash parameters as expected.\n            if (Popup.popupWindow.location.search || Popup.popupWindow.location.hash) {\n              var queryParams = Popup.popupWindow.location.search.substring(1).replace(/\\/$/, '');\n              var hashParams = Popup.popupWindow.location.hash.substring(1).replace(/[\\/$]/, '');\n              var hash = utils.parseQueryString(hashParams);\n              var qs = utils.parseQueryString(queryParams);\n\n              extend(qs, hash);\n\n              if (qs.error) {\n                reject(qs);\n              } else {\n                resolve(qs);\n              }\n            } else {\n              // Does not contain query/hash parameters, can't do anything at this point.\n              reject('Redirect has occurred but no query or hash parameters were found. ' + 'They were either not set during the redirect, or were removed before Satellizer ' + 'could read them, e.g. AngularJS routing mechanism.');\n            }\n\n            clearInterval(polling);\n            Popup.popupWindow.close();\n          }\n        } catch (error) {\n          // Ignore DOMException: Blocked a frame with origin from accessing a cross-origin frame.\n          // A hack to get around same-origin security policy errors in IE.\n        }\n      }, 20);\n    });\n\n    return promise;\n  };\n\n  Popup.prepareOptions = function (options) {\n    options = options || {};\n    var width = options.width || 500;\n    var height = options.height || 500;\n\n    return extend({\n      width: width,\n      height: height,\n      left: window.screenX + (window.outerWidth - width) / 2,\n      top: window.screenY + (window.outerHeight - height) / 2.5\n    }, options);\n  };\n\n  Popup.stringifyOptions = function (options) {\n    var parts = [];\n    forEach(options, function (value, key) {\n      parts.push(key + '=' + value);\n    });\n    return parts.join(',');\n  };\n\n  return Popup;\n}\n\nmodule.exports = Popup();//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjUuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL3BvcHVwLmpzPzhlYmMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8kcSwgJGludGVydmFsLCAkd2luZG93LCBjb25maWcsIHV0aWxzXG5cbnZhciB1dGlscyA9IHJlcXVpcmUoXCIuL3V0aWxzLmpzXCIpO1xudmFyIGV4dGVuZCA9IHV0aWxzLmV4dGVuZDtcbnZhciBmb3JFYWNoID0gdXRpbHMuZm9yRWFjaDtcblxuZnVuY3Rpb24gUG9wdXAoKXtcblxuICAgIHZhciBQb3B1cCA9IHt9O1xuXG4gICAgUG9wdXAudXJsID0gJyc7XG4gICAgUG9wdXAucG9wdXBXaW5kb3cgPSBudWxsO1xuXG4gICAgUG9wdXAub3BlbiA9IGZ1bmN0aW9uKHVybCwgbmFtZSwgb3B0aW9ucykge1xuICAgICAgUG9wdXAudXJsID0gdXJsO1xuXG4gICAgICB2YXIgc3RyaW5naWZpZWRPcHRpb25zID0gUG9wdXAuc3RyaW5naWZ5T3B0aW9ucyhQb3B1cC5wcmVwYXJlT3B0aW9ucyhvcHRpb25zKSk7XG4gICAgICB2YXIgVUEgPSAkd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQ7XG4gICAgICB2YXIgd2luZG93TmFtZSA9ICh3aW5kb3cuY29yZG92YSB8fCBVQS5pbmRleE9mKCdDcmlPUycpID4gLTEpID8gJ19ibGFuaycgOiBuYW1lO1xuXG4gICAgICBQb3B1cC5wb3B1cFdpbmRvdyA9ICR3aW5kb3cub3Blbih1cmwsIHdpbmRvd05hbWUsIHN0cmluZ2lmaWVkT3B0aW9ucyk7XG5cbiAgICAgICR3aW5kb3cucG9wdXAgPSBQb3B1cC5wb3B1cFdpbmRvdztcblxuICAgICAgaWYgKFBvcHVwLnBvcHVwV2luZG93ICYmIFBvcHVwLnBvcHVwV2luZG93LmZvY3VzKSB7XG4gICAgICAgIFBvcHVwLnBvcHVwV2luZG93LmZvY3VzKCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBQb3B1cDtcbiAgICB9O1xuXG4gICAgUG9wdXAuZXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uKHJlZGlyZWN0VXJpKSB7XG4gICAgICB2YXIgcDEgPSBuZXcgUHJvbWlzZShcbiAgICAgICAgICBmdW5jdGlvbihyZXNvbHZlLCByZWplY3Qpe1xuICAgICAgICAgICAgUG9wdXAucG9wdXBXaW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZHN0YXJ0JywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgICAgaWYgKGV2ZW50LnVybC5pbmRleE9mKHJlZGlyZWN0VXJpKSAhPT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHZhciBwYXJzZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgICAgICAgICAgIHBhcnNlci5ocmVmID0gZXZlbnQudXJsO1xuXG4gICAgICAgICAgICAgIGlmIChwYXJzZXIuc2VhcmNoIHx8IHBhcnNlci5oYXNoKSB7XG4gICAgICAgICAgICAgICAgdmFyIHF1ZXJ5UGFyYW1zID0gcGFyc2VyLnNlYXJjaC5zdWJzdHJpbmcoMSkucmVwbGFjZSgvXFwvJC8sICcnKTtcbiAgICAgICAgICAgICAgICB2YXIgaGFzaFBhcmFtcyA9IHBhcnNlci5oYXNoLnN1YnN0cmluZygxKS5yZXBsYWNlKC9cXC8kLywgJycpO1xuICAgICAgICAgICAgICAgIHZhciBoYXNoID0gdXRpbHMucGFyc2VRdWVyeVN0cmluZyhoYXNoUGFyYW1zKTtcbiAgICAgICAgICAgICAgICB2YXIgcXMgPSB1dGlscy5wYXJzZVF1ZXJ5U3RyaW5nKHF1ZXJ5UGFyYW1zKTtcblxuICAgICAgICAgICAgICAgIGV4dGVuZChxcywgaGFzaCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoIXFzLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgICByZXNvbHZlKHFzKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBQb3B1cC5wb3B1cFdpbmRvdy5jbG9zZSgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgUG9wdXAucG9wdXBXaW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZGVycm9yJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIHJlamVjdCgnQXV0aG9yaXphdGlvbiBGYWlsZWQnKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIFxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBwMTtcblxuICAgIH07XG5cbiAgICBQb3B1cC5wb2xsUG9wdXAgPSBmdW5jdGlvbihyZWRpcmVjdFVyaSkge1xuICAgICAgXG4gICAgICB2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uKCByZXNvbHZlLCByZWplY3Qpe1xuXG4gICAgICAgICAgdmFyIHJlZGlyZWN0VXJpUGFyc2VyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgICAgICAgIHJlZGlyZWN0VXJpUGFyc2VyLmhyZWYgPSByZWRpcmVjdFVyaTtcblxuICAgICAgICAgIHZhciByZWRpcmVjdFVyaVBhdGggPSB1dGlscy5nZXRGdWxsVXJsUGF0aChyZWRpcmVjdFVyaVBhcnNlcik7XG5cbiAgICAgICAgICB2YXIgcG9sbGluZyA9IHNldEludGVydmFsKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKCFQb3B1cC5wb3B1cFdpbmRvdyB8fCBQb3B1cC5wb3B1cFdpbmRvdy5jbG9zZWQgfHwgUG9wdXAucG9wdXBXaW5kb3cuY2xvc2VkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgcmVqZWN0KCdUaGUgcG9wdXAgd2luZG93IHdhcyBjbG9zZWQuJyk7XG4gICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwocG9sbGluZyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIHZhciBwb3B1cFdpbmRvd1BhdGggPSB1dGlscy5nZXRGdWxsVXJsUGF0aChQb3B1cC5wb3B1cFdpbmRvdy5sb2NhdGlvbik7XG5cbiAgICAgICAgICAgICAgLy8gUmVkaXJlY3QgaGFzIG9jY3VycmVkLlxuICAgICAgICAgICAgICBpZiAocG9wdXBXaW5kb3dQYXRoID09PSByZWRpcmVjdFVyaVBhdGgpIHtcbiAgICAgICAgICAgICAgICAvLyBDb250YWlucyBxdWVyeS9oYXNoIHBhcmFtZXRlcnMgYXMgZXhwZWN0ZWQuXG4gICAgICAgICAgICAgICAgaWYgKFBvcHVwLnBvcHVwV2luZG93LmxvY2F0aW9uLnNlYXJjaCB8fCBQb3B1cC5wb3B1cFdpbmRvdy5sb2NhdGlvbi5oYXNoKSB7XG4gICAgICAgICAgICAgICAgICB2YXIgcXVlcnlQYXJhbXMgPSBQb3B1cC5wb3B1cFdpbmRvdy5sb2NhdGlvbi5zZWFyY2guc3Vic3RyaW5nKDEpLnJlcGxhY2UoL1xcLyQvLCAnJyk7XG4gICAgICAgICAgICAgICAgICB2YXIgaGFzaFBhcmFtcyA9IFBvcHVwLnBvcHVwV2luZG93LmxvY2F0aW9uLmhhc2guc3Vic3RyaW5nKDEpLnJlcGxhY2UoL1tcXC8kXS8sICcnKTtcbiAgICAgICAgICAgICAgICAgIHZhciBoYXNoID0gdXRpbHMucGFyc2VRdWVyeVN0cmluZyhoYXNoUGFyYW1zKTtcbiAgICAgICAgICAgICAgICAgIHZhciBxcyA9IHV0aWxzLnBhcnNlUXVlcnlTdHJpbmcocXVlcnlQYXJhbXMpO1xuXG4gICAgICAgICAgICAgICAgICBleHRlbmQocXMsIGhhc2gpO1xuXG4gICAgICAgICAgICAgICAgICBpZiAocXMuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KHFzKTtcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUocXMpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAvLyBEb2VzIG5vdCBjb250YWluIHF1ZXJ5L2hhc2ggcGFyYW1ldGVycywgY2FuJ3QgZG8gYW55dGhpbmcgYXQgdGhpcyBwb2ludC5cbiAgICAgICAgICAgICAgICAgIHJlamVjdChcbiAgICAgICAgICAgICAgICAgICAgJ1JlZGlyZWN0IGhhcyBvY2N1cnJlZCBidXQgbm8gcXVlcnkgb3IgaGFzaCBwYXJhbWV0ZXJzIHdlcmUgZm91bmQuICcgK1xuICAgICAgICAgICAgICAgICAgICAnVGhleSB3ZXJlIGVpdGhlciBub3Qgc2V0IGR1cmluZyB0aGUgcmVkaXJlY3QsIG9yIHdlcmUgcmVtb3ZlZCBiZWZvcmUgU2F0ZWxsaXplciAnICtcbiAgICAgICAgICAgICAgICAgICAgJ2NvdWxkIHJlYWQgdGhlbSwgZS5nLiBBbmd1bGFySlMgcm91dGluZyBtZWNoYW5pc20uJ1xuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHBvbGxpbmcpO1xuICAgICAgICAgICAgICAgIFBvcHVwLnBvcHVwV2luZG93LmNsb3NlKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgIC8vIElnbm9yZSBET01FeGNlcHRpb246IEJsb2NrZWQgYSBmcmFtZSB3aXRoIG9yaWdpbiBmcm9tIGFjY2Vzc2luZyBhIGNyb3NzLW9yaWdpbiBmcmFtZS5cbiAgICAgICAgICAgICAgLy8gQSBoYWNrIHRvIGdldCBhcm91bmQgc2FtZS1vcmlnaW4gc2VjdXJpdHkgcG9saWN5IGVycm9ycyBpbiBJRS5cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LCAyMCk7XG5cblxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBwcm9taXNlO1xuICAgIH07XG5cbiAgICBQb3B1cC5wcmVwYXJlT3B0aW9ucyA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgICAgdmFyIHdpZHRoID0gb3B0aW9ucy53aWR0aCB8fCA1MDA7XG4gICAgICB2YXIgaGVpZ2h0ID0gb3B0aW9ucy5oZWlnaHQgfHwgNTAwO1xuXG4gICAgICByZXR1cm4gZXh0ZW5kKHtcbiAgICAgICAgd2lkdGg6IHdpZHRoLFxuICAgICAgICBoZWlnaHQ6IGhlaWdodCxcbiAgICAgICAgbGVmdDogd2luZG93LnNjcmVlblggKyAoKHdpbmRvdy5vdXRlcldpZHRoIC0gd2lkdGgpIC8gMiksXG4gICAgICAgIHRvcDogd2luZG93LnNjcmVlblkgKyAoKHdpbmRvdy5vdXRlckhlaWdodCAtIGhlaWdodCkgLyAyLjUpXG4gICAgICB9LCBvcHRpb25zKTtcbiAgICB9O1xuXG4gICAgUG9wdXAuc3RyaW5naWZ5T3B0aW9ucyA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIHZhciBwYXJ0cyA9IFtdO1xuICAgICAgZm9yRWFjaChvcHRpb25zLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICAgIHBhcnRzLnB1c2goa2V5ICsgJz0nICsgdmFsdWUpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcGFydHMuam9pbignLCcpO1xuICAgIH07XG5cbiAgICByZXR1cm4gUG9wdXA7XG59XG5cblxubW9kdWxlLmV4cG9ydHMgPSBQb3B1cCgpO1xuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIHNyYy9wb3B1cC5qc1xuICoqLyJdLCJtYXBwaW5ncyI6Ijs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQSIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ },

/***/ 26:
/***/ function(module, exports, __webpack_require__) {

	eval("\n//$q, http, $window, $timeout, popup, utils, config, storage\n\nvar config = __webpack_require__(16);\nvar http = __webpack_require__(21);\nvar popup = __webpack_require__(25);\nvar storage = __webpack_require__(19);\nvar utils = __webpack_require__(18);\n\nvar extend = utils.extend;\nvar forEach = utils.forEach;\nvar isString = utils.isString;\nvar isFunction = utils.isFunction;\nvar merge = utils.merge;\n\nfunction oAuth2() {\n\n  return function () {\n    var Oauth2 = {};\n\n    var defaults = {\n      defaultUrlParams: ['response_type', 'client_id', 'redirect_uri'],\n      responseType: 'code',\n      responseParams: {\n        code: 'code',\n        clientId: 'clientId',\n        redirectUri: 'redirectUri'\n      }\n    };\n\n    Oauth2.open = function (options, userData) {\n      defaults = merge(options, defaults);\n      var promise = new Promise(function (resolve, reject) {\n        setTimeout(function () {\n          var url;\n          var openPopup;\n          var stateName = defaults.name + '_state';\n\n          if (utils.isFunction(defaults.state)) {\n            storage.set(stateName, defaults.state());\n          } else if (isString(defaults.state)) {\n            storage.set(stateName, defaults.state);\n          }\n\n          url = [defaults.authorizationEndpoint, Oauth2.buildQueryString()].join('?');\n\n          if (window.cordova) {\n            openPopup = popup.open(url, defaults.name, defaults.popupOptions, defaults.redirectUri).eventListener(defaults.redirectUri);\n          } else {\n            openPopup = popup.open(url, defaults.name, defaults.popupOptions, defaults.redirectUri).pollPopup(defaults.redirectUri);\n          }\n\n          openPopup.then(function (oauthData) {\n            // When no server URL provided, return popup params as-is.\n            // This is for a scenario when someone wishes to opt out from\n            // Satellizer's magic by doing authorization code exchange and\n            // saving a token manually.\n            if (defaults.responseType === 'token' || !defaults.url) {\n              return resolve(oauthData);\n            }\n\n            if (oauthData.state && oauthData.state !== storage.get(stateName)) {\n              return reject('The value returned in the state parameter does not match the state value from your original ' + 'authorization code request.');\n            }\n\n            resolve(Oauth2.exchangeForToken(oauthData, userData));\n          }, function (err) {\n            reject(err);\n          });\n        });\n      });\n\n      return promise;\n    };\n\n    Oauth2.exchangeForToken = function (oauthData, userData) {\n      var data = extend({}, userData);\n\n      forEach(defaults.responseParams, function (value, key) {\n        switch (key) {\n          case 'code':\n            data[value] = oauthData.code;\n            break;\n          case 'clientId':\n            data[value] = defaults.clientId;\n            break;\n          case 'redirectUri':\n            data[value] = defaults.redirectUri;\n            break;\n          default:\n            data[value] = oauthData[key];\n        }\n      });\n\n      if (oauthData.state) {\n        data.state = oauthData.state;\n      }\n\n      var exchangeForTokenUrl = config.baseUrl ? utils.joinUrl(config.baseUrl, defaults.url) : defaults.url;\n\n      return http.post(exchangeForTokenUrl, data, { withCredentials: config.withCredentials });\n    };\n\n    Oauth2.buildQueryString = function () {\n      var keyValuePairs = [];\n      var urlParamsCategories = ['defaultUrlParams', 'requiredUrlParams', 'optionalUrlParams'];\n\n      forEach(urlParamsCategories, function (paramsCategory) {\n        forEach(defaults[paramsCategory], function (paramName) {\n          var camelizedName = utils.camelCase(paramName);\n          var paramValue = isFunction(defaults[paramName]) ? defaults[paramName]() : defaults[camelizedName];\n\n          if (paramName === 'redirect_uri' && !paramValue) {\n            return;\n          }\n\n          if (paramName === 'state') {\n            var stateName = defaults.name + '_state';\n            paramValue = storage.get(stateName);\n          }\n\n          if (paramName === 'scope' && Array.isArray(paramValue)) {\n            paramValue = paramValue.join(defaults.scopeDelimiter);\n\n            if (defaults.scopePrefix) {\n              paramValue = [defaults.scopePrefix, paramValue].join(defaults.scopeDelimiter);\n            }\n          }\n\n          keyValuePairs.push([paramName, encodeURIComponent(paramValue)]);\n        });\n      });\n\n      return keyValuePairs.map(function (pair) {\n        return pair.join('=');\n      }).join('&');\n    };\n\n    return Oauth2;\n  };\n}\n\nmodule.exports = oAuth2();//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjYuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL29hdXRoMi5qcz9mYjVkIl0sInNvdXJjZXNDb250ZW50IjpbIlxuLy8kcSwgaHR0cCwgJHdpbmRvdywgJHRpbWVvdXQsIHBvcHVwLCB1dGlscywgY29uZmlnLCBzdG9yYWdlXG5cbnZhciBjb25maWcgPSByZXF1aXJlKCcuL2NvbmZpZy5qcycpO1xudmFyIGh0dHAgPSByZXF1aXJlKCcuL2h0dHAuanMnKTtcbnZhciBwb3B1cCA9IHJlcXVpcmUoXCIuL3BvcHVwLmpzXCIpO1xudmFyIHN0b3JhZ2UgPSByZXF1aXJlKFwiLi9zdG9yYWdlLmpzXCIpO1xudmFyIHV0aWxzID0gcmVxdWlyZShcIi4vdXRpbHMuanNcIik7XG5cbnZhciBleHRlbmQgPSB1dGlscy5leHRlbmQ7XG52YXIgZm9yRWFjaCA9IHV0aWxzLmZvckVhY2g7XG52YXIgaXNTdHJpbmcgPSB1dGlscy5pc1N0cmluZztcbnZhciBpc0Z1bmN0aW9uID0gdXRpbHMuaXNGdW5jdGlvbjtcbnZhciBtZXJnZSA9IHV0aWxzLm1lcmdlO1xuXG5cbmZ1bmN0aW9uIG9BdXRoMigpe1xuICBcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHZhciBPYXV0aDIgPSB7fTtcblxuICAgIHZhciBkZWZhdWx0cyA9IHtcbiAgICAgIGRlZmF1bHRVcmxQYXJhbXM6IFsncmVzcG9uc2VfdHlwZScsICdjbGllbnRfaWQnLCAncmVkaXJlY3RfdXJpJ10sXG4gICAgICByZXNwb25zZVR5cGU6ICdjb2RlJyxcbiAgICAgIHJlc3BvbnNlUGFyYW1zOiB7XG4gICAgICAgIGNvZGU6ICdjb2RlJyxcbiAgICAgICAgY2xpZW50SWQ6ICdjbGllbnRJZCcsXG4gICAgICAgIHJlZGlyZWN0VXJpOiAncmVkaXJlY3RVcmknXG4gICAgICB9XG4gICAgfTtcblxuICAgIE9hdXRoMi5vcGVuID0gZnVuY3Rpb24ob3B0aW9ucywgdXNlckRhdGEpIHtcbiAgICAgIGRlZmF1bHRzID0gbWVyZ2Uob3B0aW9ucywgZGVmYXVsdHMpO1xuICAgICAgdmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3Qpe1xuICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHVybDtcbiAgICAgICAgICAgIHZhciBvcGVuUG9wdXA7XG4gICAgICAgICAgICB2YXIgc3RhdGVOYW1lID0gZGVmYXVsdHMubmFtZSArICdfc3RhdGUnO1xuXG4gICAgICAgICAgICBpZiAodXRpbHMuaXNGdW5jdGlvbihkZWZhdWx0cy5zdGF0ZSkpIHtcbiAgICAgICAgICAgICAgc3RvcmFnZS5zZXQoc3RhdGVOYW1lLCBkZWZhdWx0cy5zdGF0ZSgpKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNTdHJpbmcoZGVmYXVsdHMuc3RhdGUpKSB7XG4gICAgICAgICAgICAgIHN0b3JhZ2Uuc2V0KHN0YXRlTmFtZSwgZGVmYXVsdHMuc3RhdGUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB1cmwgPSBbZGVmYXVsdHMuYXV0aG9yaXphdGlvbkVuZHBvaW50LCBPYXV0aDIuYnVpbGRRdWVyeVN0cmluZygpXS5qb2luKCc/Jyk7XG5cbiAgICAgICAgICAgIGlmICh3aW5kb3cuY29yZG92YSkge1xuICAgICAgICAgICAgICBvcGVuUG9wdXAgPSBwb3B1cC5vcGVuKHVybCwgZGVmYXVsdHMubmFtZSwgZGVmYXVsdHMucG9wdXBPcHRpb25zLCBkZWZhdWx0cy5yZWRpcmVjdFVyaSkuZXZlbnRMaXN0ZW5lcihkZWZhdWx0cy5yZWRpcmVjdFVyaSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBvcGVuUG9wdXAgPSBwb3B1cC5vcGVuKHVybCwgZGVmYXVsdHMubmFtZSwgZGVmYXVsdHMucG9wdXBPcHRpb25zLCBkZWZhdWx0cy5yZWRpcmVjdFVyaSkucG9sbFBvcHVwKGRlZmF1bHRzLnJlZGlyZWN0VXJpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgb3BlblBvcHVwXG4gICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKG9hdXRoRGF0YSkge1xuICAgICAgICAgICAgICAgIC8vIFdoZW4gbm8gc2VydmVyIFVSTCBwcm92aWRlZCwgcmV0dXJuIHBvcHVwIHBhcmFtcyBhcy1pcy5cbiAgICAgICAgICAgICAgICAvLyBUaGlzIGlzIGZvciBhIHNjZW5hcmlvIHdoZW4gc29tZW9uZSB3aXNoZXMgdG8gb3B0IG91dCBmcm9tXG4gICAgICAgICAgICAgICAgLy8gU2F0ZWxsaXplcidzIG1hZ2ljIGJ5IGRvaW5nIGF1dGhvcml6YXRpb24gY29kZSBleGNoYW5nZSBhbmRcbiAgICAgICAgICAgICAgICAvLyBzYXZpbmcgYSB0b2tlbiBtYW51YWxseS5cbiAgICAgICAgICAgICAgICBpZiAoZGVmYXVsdHMucmVzcG9uc2VUeXBlID09PSAndG9rZW4nIHx8ICFkZWZhdWx0cy51cmwpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKG9hdXRoRGF0YSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKG9hdXRoRGF0YS5zdGF0ZSAmJiBvYXV0aERhdGEuc3RhdGUgIT09IHN0b3JhZ2UuZ2V0KHN0YXRlTmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiByZWplY3QoXG4gICAgICAgICAgICAgICAgICAgICdUaGUgdmFsdWUgcmV0dXJuZWQgaW4gdGhlIHN0YXRlIHBhcmFtZXRlciBkb2VzIG5vdCBtYXRjaCB0aGUgc3RhdGUgdmFsdWUgZnJvbSB5b3VyIG9yaWdpbmFsICcgK1xuICAgICAgICAgICAgICAgICAgICAnYXV0aG9yaXphdGlvbiBjb2RlIHJlcXVlc3QuJ1xuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXNvbHZlKE9hdXRoMi5leGNoYW5nZUZvclRva2VuKG9hdXRoRGF0YSwgdXNlckRhdGEpKTtcbiAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcblxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBwcm9taXNlO1xuICAgIH07XG5cbiAgICBPYXV0aDIuZXhjaGFuZ2VGb3JUb2tlbiA9IGZ1bmN0aW9uKG9hdXRoRGF0YSwgdXNlckRhdGEpIHtcbiAgICAgIHZhciBkYXRhID0gZXh0ZW5kKHt9LCB1c2VyRGF0YSk7XG5cbiAgICAgIGZvckVhY2goZGVmYXVsdHMucmVzcG9uc2VQYXJhbXMsIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgICAgc3dpdGNoIChrZXkpIHtcbiAgICAgICAgICBjYXNlICdjb2RlJzpcbiAgICAgICAgICAgIGRhdGFbdmFsdWVdID0gb2F1dGhEYXRhLmNvZGU7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdjbGllbnRJZCc6XG4gICAgICAgICAgICBkYXRhW3ZhbHVlXSA9IGRlZmF1bHRzLmNsaWVudElkO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAncmVkaXJlY3RVcmknOlxuICAgICAgICAgICAgZGF0YVt2YWx1ZV0gPSBkZWZhdWx0cy5yZWRpcmVjdFVyaTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBkYXRhW3ZhbHVlXSA9IG9hdXRoRGF0YVtrZXldO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgaWYgKG9hdXRoRGF0YS5zdGF0ZSkge1xuICAgICAgICBkYXRhLnN0YXRlID0gb2F1dGhEYXRhLnN0YXRlO1xuICAgICAgfVxuXG4gICAgICB2YXIgZXhjaGFuZ2VGb3JUb2tlblVybCA9IGNvbmZpZy5iYXNlVXJsID8gdXRpbHMuam9pblVybChjb25maWcuYmFzZVVybCwgZGVmYXVsdHMudXJsKSA6IGRlZmF1bHRzLnVybDtcblxuICAgICAgcmV0dXJuIGh0dHAucG9zdChleGNoYW5nZUZvclRva2VuVXJsLCBkYXRhLCB7IHdpdGhDcmVkZW50aWFsczogY29uZmlnLndpdGhDcmVkZW50aWFscyB9KTtcbiAgICB9O1xuXG4gICAgT2F1dGgyLmJ1aWxkUXVlcnlTdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBrZXlWYWx1ZVBhaXJzID0gW107XG4gICAgICB2YXIgdXJsUGFyYW1zQ2F0ZWdvcmllcyA9IFsnZGVmYXVsdFVybFBhcmFtcycsICdyZXF1aXJlZFVybFBhcmFtcycsICdvcHRpb25hbFVybFBhcmFtcyddO1xuXG4gICAgICBmb3JFYWNoKHVybFBhcmFtc0NhdGVnb3JpZXMsIGZ1bmN0aW9uKHBhcmFtc0NhdGVnb3J5KSB7XG4gICAgICAgIGZvckVhY2goZGVmYXVsdHNbcGFyYW1zQ2F0ZWdvcnldLCBmdW5jdGlvbihwYXJhbU5hbWUpIHtcbiAgICAgICAgICB2YXIgY2FtZWxpemVkTmFtZSA9IHV0aWxzLmNhbWVsQ2FzZShwYXJhbU5hbWUpO1xuICAgICAgICAgIHZhciBwYXJhbVZhbHVlID0gaXNGdW5jdGlvbihkZWZhdWx0c1twYXJhbU5hbWVdKSA/IGRlZmF1bHRzW3BhcmFtTmFtZV0oKSA6IGRlZmF1bHRzW2NhbWVsaXplZE5hbWVdO1xuXG4gICAgICAgICAgaWYgKHBhcmFtTmFtZSA9PT0gJ3JlZGlyZWN0X3VyaScgJiYgIXBhcmFtVmFsdWUpIHtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChwYXJhbU5hbWUgPT09ICdzdGF0ZScpIHtcbiAgICAgICAgICAgIHZhciBzdGF0ZU5hbWUgPSBkZWZhdWx0cy5uYW1lICsgJ19zdGF0ZSc7XG4gICAgICAgICAgICBwYXJhbVZhbHVlID0gc3RvcmFnZS5nZXQoc3RhdGVOYW1lKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAocGFyYW1OYW1lID09PSAnc2NvcGUnICYmIEFycmF5LmlzQXJyYXkocGFyYW1WYWx1ZSkpIHtcbiAgICAgICAgICAgIHBhcmFtVmFsdWUgPSBwYXJhbVZhbHVlLmpvaW4oZGVmYXVsdHMuc2NvcGVEZWxpbWl0ZXIpO1xuXG4gICAgICAgICAgICBpZiAoZGVmYXVsdHMuc2NvcGVQcmVmaXgpIHtcbiAgICAgICAgICAgICAgcGFyYW1WYWx1ZSA9IFtkZWZhdWx0cy5zY29wZVByZWZpeCwgcGFyYW1WYWx1ZV0uam9pbihkZWZhdWx0cy5zY29wZURlbGltaXRlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAga2V5VmFsdWVQYWlycy5wdXNoKFtwYXJhbU5hbWUsIGVuY29kZVVSSUNvbXBvbmVudChwYXJhbVZhbHVlKV0pO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4ga2V5VmFsdWVQYWlycy5tYXAoZnVuY3Rpb24ocGFpcikge1xuICAgICAgICByZXR1cm4gcGFpci5qb2luKCc9Jyk7XG4gICAgICB9KS5qb2luKCcmJyk7XG4gICAgfTtcblxuICAgIHJldHVybiBPYXV0aDI7XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gb0F1dGgyKCk7XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogc3JjL29hdXRoMi5qc1xuICoqLyJdLCJtYXBwaW5ncyI6Ijs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFIQTtBQUNBO0FBU0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVhBO0FBYUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }

})